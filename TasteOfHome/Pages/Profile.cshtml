@page
@using TasteOfHome.Data
@{
    ViewData["Title"] = "Profile";

    string? email = null;

    if (User.Identity != null && User.Identity.IsAuthenticated)
    {
        email = User.Identity.Name;
    }
    else if (!string.IsNullOrEmpty(FakeUsers.LoggedInEmail))
    {
        email = FakeUsers.LoggedInEmail;
    }
}

<div class="content">

    @if (!string.IsNullOrEmpty(email))
    {
        <div class="profile-card">

            <div class="profile-avatar">
                <i class="bi bi-person"></i>
            </div>

            <div class="profile-info">
                <h2 class="profile-name">
                    @email.Split('@')[0]
                </h2>

                <p class="profile-email">
                    <i class="bi bi-envelope"></i>
                    @email
                </p>

                <span class="profile-badge">
                    Food Explorer
                </span>
            </div>
        </div>
    }
    else
    {
        <p>You are not logged in.</p>
    }

</div>